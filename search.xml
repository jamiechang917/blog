<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>MPI Tutorial 1</title>
    <url>/blog/2021/03/22/MPITutorial01/</url>
    <content><![CDATA[<h2 id="MPI-Tutorial-1-Hello-MPI-World"><a href="#MPI-Tutorial-1-Hello-MPI-World" class="headerlink" title="MPI Tutorial 1 - Hello MPI World!"></a>MPI Tutorial 1 - Hello MPI World!</h2><h3 id="What-is-MPI"><a href="#What-is-MPI" class="headerlink" title="What is MPI?"></a>What is MPI?</h3><h3 id="Example-Hello-MPI-World"><a href="#Example-Hello-MPI-World" class="headerlink" title="Example - Hello MPI World!"></a>Example - Hello MPI World!</h3><div class="note info modern"><p>這個範例將演示如何初始化MPI，以及MPI的一些基本參數。</p>
</div>
<p>Hello_MPI_World.c<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;mpi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> agrc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">    MPI_Init(<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">int</span> size, rank;</span><br><span class="line">    MPI_Comm_size(MPI_COMM_WORLD, &amp;size);</span><br><span class="line">    MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello world from rank %d, the world size is %d.\n&quot;</span>,rank,size);</span><br><span class="line">    MPI_Finalize();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>執行<code>mpicc -O3 ./Hello_MPI_World.c</code>編譯，接著執行<code>mpirun -np &lt;處理器數量&gt; &lt;編譯完的檔案&gt;</code>。</p>
<p>以我的執行結果為例<code>mpirun -np 8 ./a.out</code>，我使用8個處理器。<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hello world from rank 5, the world size is 8.</span><br><span class="line">Hello world from rank 7, the world size is 8.</span><br><span class="line">Hello world from rank 4, the world size is 8.</span><br><span class="line">Hello world from rank 2, the world size is 8.</span><br><span class="line">Hello world from rank 6, the world size is 8.</span><br><span class="line">Hello world from rank 3, the world size is 8.</span><br><span class="line">Hello world from rank 0, the world size is 8.</span><br><span class="line">Hello world from rank 1, the world size is 8.</span><br></pre></td></tr></table></figure><br>從結果你能看到，代碼中只有一行<code>printf</code>，但是卻輸出八行字串，這是因為在MPI程式中，每個處理器都會執行一遍<code>main()</code>，所以你會看到八行Hello world。</p>
<div class="note danger modern"><p>注意MPI在執行上面的範例時並沒有照著處理器的編號依序執行，而是並行執行，因此輸出並不會按照順序，而是誰先執行誰就先輸出。如果你再執行一遍，你會發現輸出的順序不一樣。</p>
</div>
<p>仔細看一下Hello_MPI_World.c，除了開頭要<code>#include &lt;mpi.h&gt;</code>，還有四個重要的函式，一般寫MPI程式基本跑不掉這四個函式。</p>
<h4 id="MPI-Init"><a href="#MPI-Init" class="headerlink" title="MPI_Init()"></a>MPI_Init()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Init(</span><br><span class="line">    <span class="keyword">int</span>* argc,</span><br><span class="line">    <span class="keyword">char</span>** argv)</span><br></pre></td></tr></table></figure>
<p><code>MPI_Init()</code> 用來初始化MPI的全域和局部變數，基本上它的兩個arguments不是很重要。</p>
<h4 id="MPI-Comm-size"><a href="#MPI-Comm-size" class="headerlink" title="MPI_Comm_size()"></a>MPI_Comm_size()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Comm_size(</span><br><span class="line">    MPI_Comm communicator,</span><br><span class="line">    <span class="keyword">int</span>* size)</span><br></pre></td></tr></table></figure>
<p><code>MPI_Comm_size()</code>會回傳一個整數，代表程式使用的處理器數量，範例中使用的<code>MPI_COMM_WORLD</code>包含所有能用的處理器，如果我們給它8個處理器，<code>MPI_Comm_size(MPI_COMM_WORLD, &amp;size)</code>將會回傳8並存到size變數裡。</p>
<h4 id="MPI-Comm-rank"><a href="#MPI-Comm-rank" class="headerlink" title="MPI_Comm_rank()"></a>MPI_Comm_rank()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Comm_rank(</span><br><span class="line">    MPI_Comm communicator,</span><br><span class="line">    <span class="keyword">int</span>* rank)</span><br></pre></td></tr></table></figure>
<p><code>MPI_Comm_rank()</code>會回傳該處理器的編號，即rank，從0開始。如同之前說的每個處理器都會執行一次<code>main()</code>，但是不同的是處理器的rank都不一樣，有了rank我們就能用來分配工作給指定的處理器。</p>
<h4 id="MPI-Finalize"><a href="#MPI-Finalize" class="headerlink" title="MPI_Finalize()"></a>MPI_Finalize()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Finalize()</span><br></pre></td></tr></table></figure>
<p><code>MPI_Finalize()</code>會放在程式的結尾，用來清除MPI環境，執行後就不能再使用任何MPI函式。</p>
<div class="note info modern"><p>:mega: 值得注意的是，MPI裡的函式會是變數都是MPI_開頭，且函式後面接的第一個字母是大寫，其餘小寫。另外MPI的變數都是大寫。</p>
</div>]]></content>
      <categories>
        <category>MPI</category>
      </categories>
      <tags>
        <tag>parallel programming</tag>
        <tag>MPI</tag>
      </tags>
  </entry>
  <entry>
    <title>MPI Tutorial 2</title>
    <url>/blog/2021/03/23/MPITutorial02/</url>
    <content><![CDATA[<h2 id="MPI-Tutorial-2-P2P-Communication"><a href="#MPI-Tutorial-2-P2P-Communication" class="headerlink" title="MPI Tutorial 2 - P2P Communication"></a>MPI Tutorial 2 - P2P Communication</h2><h3 id="P2P-Communication"><a href="#P2P-Communication" class="headerlink" title="P2P Communication"></a>P2P Communication</h3><p>點對點通訊在平行程式中相當重要，由於每個處理器會獨立執行<code>main()</code>，定義的變數也是獨立的，若要將變數的值或是資料傳送給其他處理器，就會用到通訊的函式。<br><div class="note info modern"><p>這個章節會介紹MPI_Send()及MPI_Recv()的應用</p>
</div></p>
<h3 id="Example-Ring-Program"><a href="#Example-Ring-Program" class="headerlink" title="Example - Ring Program"></a>Example - Ring Program</h3><p>ring.c<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;mpi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> agrc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">    MPI_Init(<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">int</span> size, rank;</span><br><span class="line">    MPI_Comm_size(MPI_COMM_WORLD, &amp;size);</span><br><span class="line">    MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rank == <span class="number">0</span>) &#123;</span><br><span class="line">        value = <span class="number">2021</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Rank: %d, Value: %d\n&quot;</span>,rank,value);</span><br><span class="line">    MPI_Barrier(MPI_COMM_WORLD);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rank != <span class="number">0</span>)&#123; <span class="comment">//All process should be ready for receiving the value first. Otherwise some process will send initial value to another one, instead of new value.</span></span><br><span class="line">        MPI_Recv(&amp;value,<span class="number">1</span>,MPI_FLOAT,rank<span class="number">-1</span>,<span class="number">0</span>,MPI_COMM_WORLD,MPI_STATUS_IGNORE);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Rank %d received the value from %d\n&quot;</span>,rank,rank<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rank == <span class="number">0</span>)&#123;</span><br><span class="line">        MPI_Send(&amp;value,<span class="number">1</span>,MPI_FLOAT,rank+<span class="number">1</span>,<span class="number">0</span>,MPI_COMM_WORLD);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Rank %d sent the value to %d\n&quot;</span>,rank,rank+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(rank != size<span class="number">-1</span>)&#123;</span><br><span class="line">        MPI_Send(&amp;value,<span class="number">1</span>,MPI_FLOAT,rank+<span class="number">1</span>,<span class="number">0</span>,MPI_COMM_WORLD);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Rank %d sent the value to %d\n&quot;</span>,rank,rank+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    MPI_Barrier(MPI_COMM_WORLD);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Program is end. Rank: %d, Value: %d\n&quot;</span>,rank,value);</span><br><span class="line">    MPI_Finalize();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>使用8個處理器的執行結果<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Rank: 1, Value: 0</span><br><span class="line">Rank: 3, Value: 0</span><br><span class="line">Rank: 6, Value: 0</span><br><span class="line">Rank: 4, Value: 0</span><br><span class="line">Rank: 5, Value: 0</span><br><span class="line">Rank: 7, Value: 0</span><br><span class="line">Rank: 2, Value: 0</span><br><span class="line">Rank: 0, Value: 2021</span><br><span class="line">Rank 0 sent the value to 1</span><br><span class="line">Rank 1 received the value from 0</span><br><span class="line">Rank 1 sent the value to 2</span><br><span class="line">Rank 2 received the value from 1</span><br><span class="line">Rank 2 sent the value to 3</span><br><span class="line">Rank 3 received the value from 2</span><br><span class="line">Rank 3 sent the value to 4</span><br><span class="line">Rank 4 received the value from 3</span><br><span class="line">Rank 4 sent the value to 5</span><br><span class="line">Rank 5 received the value from 4</span><br><span class="line">Rank 5 sent the value to 6</span><br><span class="line">Rank 6 received the value from 5</span><br><span class="line">Rank 6 sent the value to 7</span><br><span class="line">Rank 7 received the value from 6</span><br><span class="line">Program is end. Rank: 0, Value: 2021</span><br><span class="line">Program is end. Rank: 1, Value: 2021</span><br><span class="line">Program is end. Rank: 2, Value: 2021</span><br><span class="line">Program is end. Rank: 3, Value: 2021</span><br><span class="line">Program is end. Rank: 4, Value: 2021</span><br><span class="line">Program is end. Rank: 5, Value: 2021</span><br><span class="line">Program is end. Rank: 6, Value: 2021</span><br><span class="line">Program is end. Rank: 7, Value: 2021</span><br></pre></td></tr></table></figure><br>這個<code>ring.c</code>的範例主要是將 rank 0 的 <code>value</code> 變數依序傳遞給其餘的處理器，在開頭我們宣告 <code>int value = 0</code>，唯獨 rank 0 的 <code>value</code> 是 2021，宣告完後會先 print 每個 rank 各自的 <code>value</code>。</p>
<p>接著你會看到<code>MPI_Barrier(MPI_COMM_WORLD)</code>，這個函式會等待所有的處理器處理完才繼續執行後面的工作，為平行運算中的同步化。</p>
<p>最後每個處理器會使用<code>MPI_Recv()</code>來接收來自<code>rank-1</code>的資料，並存入<code>value</code>變數。如果沒有接收到資料，處理器會閒置直到接受資料為止。接著 rank 0 會發送自己<code>value</code>的值給 rank 1，然後 rank 1 會接收其值並存入自己的<code>value</code>變數，以此推類直到最後一個處理器。</p>
<h4 id="MPI-Send"><a href="#MPI-Send" class="headerlink" title="MPI_Send()"></a>MPI_Send()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Send(</span><br><span class="line">    <span class="keyword">void</span>* data,</span><br><span class="line">    <span class="keyword">int</span> count,</span><br><span class="line">    MPI_Datatype datatype,</span><br><span class="line">    <span class="keyword">int</span> destination,</span><br><span class="line">    <span class="keyword">int</span> tag,</span><br><span class="line">    MPI_Comm communicator)</span><br></pre></td></tr></table></figure>
<p>第一個參數放要傳送的資料的記憶體位址，第二第三分別放傳送的資料數量及類型，<code>destination</code>是目標的 rank，<code>tag</code>可以是任意的正整數，用來標記。</p>
<h4 id="MPI-Recv"><a href="#MPI-Recv" class="headerlink" title="MPI_Recv()"></a>MPI_Recv()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Recv(</span><br><span class="line">    <span class="keyword">void</span>* data,</span><br><span class="line">    <span class="keyword">int</span> count,</span><br><span class="line">    MPI_Datatype datatype,</span><br><span class="line">    <span class="keyword">int</span> source,</span><br><span class="line">    <span class="keyword">int</span> tag,</span><br><span class="line">    MPI_Comm communicator,</span><br><span class="line">    MPI_Status* status)</span><br></pre></td></tr></table></figure>
<p>與<code>MPI_Send()</code>類似，第一個參數放要存入的變數記憶體位址，唯一需要注意的是<code>MPI_Recv()</code>需要知道接收到的資料大小和類型。</p>
<h4 id="MPI-Barrier"><a href="#MPI-Barrier" class="headerlink" title="MPI_Barrier()"></a>MPI_Barrier()</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">MPI_Barrier(MPI_Comm communicator)</span><br></pre></td></tr></table></figure>
<p>同步化所有的進程，等待所有處理器處理完分配的工作後，才會繼續執行後續的程序。<br><div class="note warning modern"><p>在範例中我們先執行<code>MPI_Recv</code>而不是<code>MPI_Send</code>，是為了避免 rank 0 外的處理器在得到上一個處理器傳送的<code>value</code>前先行傳送自己的<code>value</code>，這樣會導致 rank 0 的<code>value</code>無法依序傳遞到最後一個處理器。</p>
</div></p>
]]></content>
      <categories>
        <category>MPI</category>
      </categories>
      <tags>
        <tag>parallel programming</tag>
        <tag>MPI</tag>
      </tags>
  </entry>
  <entry>
    <title>觀星日誌01</title>
    <url>/blog/2021/03/25/StarDiary01/</url>
    <content><![CDATA[<h1 id="觀星日誌-1"><a href="#觀星日誌-1" class="headerlink" title="觀星日誌 #1"></a>觀星日誌 #1</h1><div class="note info modern"><ul>
<li>日期：2021/03/20(六) - 2021/03/21(日)</li>
<li>時間：18:00 - 06:00</li>
<li>月相：0.40</li>
<li>天氣：陰轉晴</li>
<li>地點：清境觀星園</li>
</ul>
</div>
<h2 id="觀測概況"><a href="#觀測概況" class="headerlink" title="觀測概況"></a>觀測概況</h2><p>這次是我第一次在清境觀星，以往都是在鳶峰或昆陽看。在觀星園雖說受清境光害影響較大，但是有床還有提供早餐確實不錯，比在停車場看還要舒服不少。</p>
<p><img src="https://i.imgur.com/OQiRzMO.jpg" alt=""></p>
<p>這次上山基本上是天文社夜衝，總共有12個人參加，主要目標是完成梅西耶星表，還剩36個吧。早上在清大集合後就分成三車上山，我的午餐是在清水服務區吃的，吃完就直接去觀星園了。到達後各位就開始架儀，我這次是帶星野赤道儀加上 Canon 6D ，這台 6D 是我在去年11月底收的二手改機，但是一直沒有使用，所以這次也是它的開光日。</p>
<p><img src="https://i.imgur.com/HDvwTjH.jpg" alt=""></p>
<p>社上的 EM200 及 WO 132 FLT ，基本上梅西耶就靠它了。同時觀星園還有私人圓頂。</p>
<p><img src="https://i.imgur.com/uh4y8Ft.jpg" alt=""></p>
<p>晚上7點大家一起去吃魯媽媽，差點因為沒訂位吃不到，不過距離很近走路一下就到了。</p>
<p><img src="https://i.imgur.com/fr4la6I.jpg" alt=""></p>
<p><img src="https://i.imgur.com/zE3r06j.jpg" alt=""></p>
<p><img src="https://i.imgur.com/Cgv9ZDw.jpg" alt=""></p>
<p>當晚透明度很差，不過最近幾天霧霾相當嚴重，只不過居然連高山都被影響到，要說它是雲也不是，整晚都沒結露。上半夜基本上有很多中高雲，下半夜後才逐漸開天，不過上半夜受月光影響所以其實還好。此外，下半夜開始拍的梅西耶還算順利，總共拍了25個，半個晚上就完成四分之一也蠻不錯的。補充一下，當晚剛好遇到春分，也是觀測梅西耶天體的最佳時機，一晚能看到全部的梅西耶天體，因此當晚也有人在舉辦梅西耶馬拉松。</p>
<p><img src="https://i.imgur.com/CLGJdyN.jpg" alt=""></p>
<p>在下半夜拍的銀河原片，老實說受清境光害影響頗大(霧霾散射地面燈光加劇影響)，實測 SQM 約在20-21，盼望暗空公園的發展能降低未來民宿晚上的光害。</p>
<p><img src="https://i.imgur.com/YuokwEp.jpg" alt=""></p>
<p>清晨的天空，雲又出來了。</p>
<p><img src="https://i.imgur.com/kA91bR1.jpg" alt=""></p>
<p>離開前的最後一眼。</p>
<p><img src="https://i.imgur.com/LgJUMkk.jpg" alt=""></p>
<h2 id="觀測目標"><a href="#觀測目標" class="headerlink" title="觀測目標"></a>觀測目標</h2><ul>
<li>William Optics 132 FLT 折射鏡</li>
<li>Canon 60Da</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目標</th>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">曝光時間 (s)</th>
<th style="text-align:center">張數</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">M3</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M4</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M5</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M6</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M9</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M10</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M14</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M18</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M19</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M21</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M23</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M24</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M25</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M53</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M56</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M62</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M71</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M80</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M92</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">M102</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">180</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Canon 6D (Mod)</li>
<li>Canon 28-80mm F2.8-4 L</li>
<li>IOptron SkyTracker Pro</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目標</th>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">曝光時間 (s)</th>
<th style="text-align:center">ISO</th>
<th style="text-align:center">焦距 (mm)</th>
<th style="text-align:center">光圈</th>
<th style="text-align:center">張數</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">銀河系廣域</td>
<td style="text-align:center">No Filter</td>
<td style="text-align:center">120</td>
<td style="text-align:center">1600</td>
<td style="text-align:center">28</td>
<td style="text-align:center">4.0</td>
<td style="text-align:center">10</td>
</tr>
</tbody>
</table>
</div>
<h2 id="觀測成果"><a href="#觀測成果" class="headerlink" title="觀測成果"></a>觀測成果</h2><p><img src="https://i.imgur.com/2brlW4A.jpg" alt=""></p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><h3 id="Canon-6D-Mod-在用-28-80mm鏡頭的長焦段會反射內部IR光"><a href="#Canon-6D-Mod-在用-28-80mm鏡頭的長焦段會反射內部IR光" class="headerlink" title="Canon 6D (Mod) 在用 28-80mm鏡頭的長焦段會反射內部IR光"></a>Canon 6D (Mod) 在用 28-80mm鏡頭的長焦段會反射內部IR光</h3><p><img src="https://i.imgur.com/kBTHYtS.jpg" alt=""></p>
<p>第一次看到嚇死我了，紅紅一條。</p>
<p><img src="https://i.imgur.com/x6FhxtK.jpg" alt=""></p>
<p>這個是Dark，已經蓋住觀景窗和機身了，證明是受到內部發出的光源影響。</p>
<p>Canon會發光! 這問題真的是一個頭兩個大，疑似是開了Live View拍會把內部的紅外線燈弄到感光元件上，沒錯，內部友會發出紅外線的元件，目前還沒解決，下次再試試。下面有幾個論壇上相關的文章</p>
<p><a href="https://www.cloudynights.com/topic/691280-astro-modified-6d-light-leak/">https://www.cloudynights.com/topic/691280-astro-modified-6d-light-leak/</a><br><a href="https://www.cloudynights.com/topic/466027-filter-mod-eos-6d-extraneous-signal-in-live-view/">https://www.cloudynights.com/topic/466027-filter-mod-eos-6d-extraneous-signal-in-live-view/</a><br><a href="https://www.cloudynights.com/topic/545012-weird-bloom-problem-canon-6d-and-astronomik-uvir-clip-filter/">https://www.cloudynights.com/topic/545012-weird-bloom-problem-canon-6d-and-astronomik-uvir-clip-filter/</a></p>
<h2 id="待辦事項"><a href="#待辦事項" class="headerlink" title="待辦事項"></a>待辦事項</h2><ul>
<li>解決相機內部紅外線光源問題</li>
</ul>
]]></content>
      <categories>
        <category>astronomy</category>
      </categories>
      <tags>
        <tag>astrophotography</tag>
        <tag>observation</tag>
      </tags>
  </entry>
  <entry>
    <title>觀星日誌02</title>
    <url>/blog/2021/03/27/StarDiary02/</url>
    <content><![CDATA[<h1 id="觀星日誌-2"><a href="#觀星日誌-2" class="headerlink" title="觀星日誌 #2"></a>觀星日誌 #2</h1><div class="note info modern"><ul>
<li>日期：2021/03/24(三) - 2021/03/25(四)</li>
<li>時間：22:00 - 07:30</li>
<li>月相：0.79</li>
<li>天氣：局部偶雲轉晴</li>
<li>地點：清大天文台</li>
</ul>
</div>
<h2 id="觀測概況"><a href="#觀測概況" class="headerlink" title="觀測概況"></a>觀測概況</h2><p>我是看到今天天氣預報說下半夜會轉晴才決定前往天文台過夜的，沒意外這次是我第一次使用清大天文台新加裝的攝影設備，拍攝時除了遇到濾鏡盤連接不良以及自動對焦的小狀況外，大致上都很順利，同時也有兩位同是天文台解說員的同學一同參與觀測。天亮時趕緊拍平場，拍得還不錯，拍完後就是漫長的暗電流，最後拍偏壓檔收尾。</p>
<p><img src="https://i.imgur.com/vuCbb9U.jpg" alt=""></p>
<p><img src="https://i.imgur.com/zHYXLOz.jpg" alt=""></p>
<p><img src="https://i.imgur.com/vT2ME6p.jpg" alt=""></p>
<h2 id="觀測目標"><a href="#觀測目標" class="headerlink" title="觀測目標"></a>觀測目標</h2><p>本次為了完成梅西耶星表拍攝數個梅西耶天體，這次是第一次開始製作梅西耶星表，預計拍攝110個天體。</p>
<ul>
<li>25cm F12 折射鏡</li>
<li>ASI 6200MM Pro @ 0°C</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目標</th>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">曝光時間 (s)</th>
<th style="text-align:center">張數</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">M3</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
<tr>
<td style="text-align:center">M5</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
<tr>
<td style="text-align:center">M13</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
<tr>
<td style="text-align:center"><font color="#f00">M20</font></td>
<td style="text-align:center">Ha,OIII</td>
<td style="text-align:center">300,300</td>
<td style="text-align:center">8,8</td>
</tr>
<tr>
<td style="text-align:center">M53</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
<tr>
<td style="text-align:center">M83</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
<tr>
<td style="text-align:center">M84&amp;M86</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">?,?,?,?</td>
</tr>
<tr>
<td style="text-align:center">M87</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">?,?,?,?</td>
</tr>
<tr>
<td style="text-align:center">M90</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">20,60,60,60</td>
<td style="text-align:center">1,1,1,1</td>
</tr>
</tbody>
</table>
</div>
<p>其中 M20 為重點觀測目標，希望未來能補上更多資料。</p>
<h2 id="觀測成果"><a href="#觀測成果" class="headerlink" title="觀測成果"></a>觀測成果</h2><p>處理中</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><h3 id="濾鏡盤接觸不良"><a href="#濾鏡盤接觸不良" class="headerlink" title="濾鏡盤接觸不良"></a>濾鏡盤接觸不良</h3><p>電腦端常常反覆發出裝置斷線和連線的警示音，後期發現濾鏡盤連接不上，最後是將濾鏡盤訊號線從相機上的 USB 孔移至 USB Hub 上就沒這問題了</p>
<h3 id="自動對焦找不到"><a href="#自動對焦找不到" class="headerlink" title="自動對焦找不到"></a>自動對焦找不到</h3><p>一開始用 MaxImDL 一直找不到對焦點，最後用 NINA 解決</p>
<h3 id="Gain開到437"><a href="#Gain開到437" class="headerlink" title="Gain開到437"></a>Gain開到437</h3><p>$%*#@!，太高了</p>
<h2 id="待辦事項"><a href="#待辦事項" class="headerlink" title="待辦事項"></a>待辦事項</h2><ul>
<li>將NINA中的濾鏡後綴從數字編號改成濾鏡名稱</li>
<li>嘗試將NINA連接星圖，得知該拍攝目標 </li>
<li>蚊子好多</li>
</ul>
]]></content>
      <categories>
        <category>astronomy</category>
      </categories>
      <tags>
        <tag>astrophotography</tag>
        <tag>observation</tag>
      </tags>
  </entry>
  <entry>
    <title>觀星日誌03</title>
    <url>/blog/2021/04/14/StarDiary03/</url>
    <content><![CDATA[<h1 id="觀星日誌-3"><a href="#觀星日誌-3" class="headerlink" title="觀星日誌 #3"></a>觀星日誌 #3</h1><div class="note info modern"><ul>
<li>日期：2021/04/12(一) - 2021/04/13(二)</li>
<li>時間：23:00 - 07:00</li>
<li>月相：0.01</li>
<li>天氣：晴，清晨薄霧</li>
<li>地點：清大天文台</li>
</ul>
</div>
<h2 id="觀測概況"><a href="#觀測概況" class="headerlink" title="觀測概況"></a>觀測概況</h2><p>逢朔的晴天，正好是觀星好機會。今晚目標預計是M20，但是大部分的時間都在處理相機曝光參數，花很久時間才找到合適的參數。</p>
<p><img src="https://i.imgur.com/nPa5yv0.jpg" alt=""></p>
<p>清晨的日出，平地似乎有些薄霧</p>
<p><img src="https://i.imgur.com/xx1lETy.jpg" alt=""><br><img src="https://i.imgur.com/OJ7lFXv.jpg" alt=""></p>
<h2 id="觀測目標"><a href="#觀測目標" class="headerlink" title="觀測目標"></a>觀測目標</h2><p>本次目標為M20</p>
<ul>
<li>25cm F12 折射鏡</li>
<li>ASI 6200MM Pro @ 0°C</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目標</th>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">曝光時間 (s)</th>
<th style="text-align:center">張數</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">M20</td>
<td style="text-align:center">L,R,G,B,Ha</td>
<td style="text-align:center">300</td>
<td style="text-align:center">3,3,3,3,3</td>
</tr>
</tbody>
</table>
</div>
<h2 id="觀測成果"><a href="#觀測成果" class="headerlink" title="觀測成果"></a>觀測成果</h2><p><strong><em>M20</em></strong><br><img src="https://i.imgur.com/eVp8onC.jpg" alt=""></p>
<p>這次是測試曝光參數，星點當時刻意過曝，因此都是死白的。</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><h3 id="NINA連接ASI-6200MM持續報錯"><a href="#NINA連接ASI-6200MM持續報錯" class="headerlink" title="NINA連接ASI 6200MM持續報錯"></a>NINA連接ASI 6200MM持續報錯</h3><p>原因未知，但先用Maxim DL連接成功後再開啟NINA即可順利連結，然後再切斷Maxim DL的連接就好。</p>
<h3 id="在Maxim-DL下無法使用自動對焦"><a href="#在Maxim-DL下無法使用自動對焦" class="headerlink" title="在Maxim DL下無法使用自動對焦"></a>在Maxim DL下無法使用自動對焦</h3><p>在NINA下可以，但是NINA下選擇Airy Autofocuser無法連接，顯示驅動報錯。ㄏ選擇Device Hub Focuser則能順利連線，而且與Airy Focuser Drive顯示內容同步。</p>
<p><img src="https://i.imgur.com/twl1D9V.png" alt=""></p>
<p>NINA的AF似乎不允許Focuser的位置是負的，但是如果對焦點在負的位置的話，需要使用右下角Move來移動Focuser到負的位置，按下Set Position就可以將該點設為0。此外，在NINA的AF中，屢次發生AF下Focuser轉到位置0後停下，持續曝光檢測星點而不再尋找下一個對焦點(看曲線可以看到預測的對焦點在負的位置)，推測原因跟前者有關，所以應該只要將0點重新往後移就行。</p>
<p><img src="https://i.imgur.com/HNzVMju.png" alt=""></p>
<p>參考資料：<a href="https://www.youtube.com/watch?v=KouZlHmyScA">使用Maxim DL 手動對焦</a></p>
<h3 id="星點過曝，但是星雲主體尚需更長曝光時間"><a href="#星點過曝，但是星雲主體尚需更長曝光時間" class="headerlink" title="星點過曝，但是星雲主體尚需更長曝光時間"></a>星點過曝，但是星雲主體尚需更長曝光時間</h3><p>由於使用F12的主鏡，因此視野亮度相當暗，目前使用300s曝光，gain 110，在LRGB濾鏡上天體的訊號不強。下圖是L的原圖。</p>
<p><img src="https://i.imgur.com/bXuNYzZ.jpg" alt=""></p>
<p>下次可以試試Gain~200, Offset~50</p>
<p>參考資料：<a href="https://www.cloudynights.com/topic/684860-determining-dslr-exposure-blown-out-stars-vs-faint-details/">曝光策略選擇</a></p>
<h2 id="補充事項"><a href="#補充事項" class="headerlink" title="補充事項"></a>補充事項</h2><h3 id="平場建議拍攝順序-清晨"><a href="#平場建議拍攝順序-清晨" class="headerlink" title="平場建議拍攝順序(清晨)"></a>平場建議拍攝順序(清晨)</h3><p><strong>L&gt;G&gt;B&gt;R-&gt;OIII-&gt;Ha-&gt;SII</strong><br><img src="https://i.imgur.com/bqGCYqM.jpg" alt=""></p>
<p>使用NINA內建的Flat Wizard就可以自動拍攝平場</p>
<p><img src="https://i.imgur.com/BaEWQOG.jpg" alt=""></p>
<p>拍平場一般選擇天頂附近的天區</p>
<p><img src="https://i.imgur.com/FnOuQye.jpg" alt=""></p>
<h2 id="待辦事項"><a href="#待辦事項" class="headerlink" title="待辦事項"></a>待辦事項</h2><ul>
<li>尋找合適的曝光參數 </li>
<li>新放的捕蚊燈沒用，蚊子太聰明了</li>
<li>檔案巨大，下次準備一個硬碟去裝資料</li>
</ul>
]]></content>
      <categories>
        <category>astronomy</category>
      </categories>
      <tags>
        <tag>astrophotography</tag>
        <tag>observation</tag>
      </tags>
  </entry>
  <entry>
    <title>觀星日誌04</title>
    <url>/blog/2021/04/21/StarDiary04/</url>
    <content><![CDATA[<h1 id="觀星日誌-4"><a href="#觀星日誌-4" class="headerlink" title="觀星日誌 #4"></a>觀星日誌 #4</h1><div class="note info modern"><ul>
<li>日期：2021/04/20(二) - 2021/04/21(三)</li>
<li>時間：20:00 - 07:00</li>
<li>月相：0.54</li>
<li>天氣：晴</li>
<li>地點：清大天文台</li>
</ul>
</div>
<h2 id="觀測概況"><a href="#觀測概況" class="headerlink" title="觀測概況"></a>觀測概況</h2><p>自從在上禮拜的觀測時間裡不斷嘗試後，這次就非常順手，所有設置很快就處理好了。而成功用NINA自動對焦。我發現每個濾鏡的焦點比我想的差距還要大。下面是我量到的各個濾鏡的對焦點。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">對焦器位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">L</td>
<td style="text-align:center">55493</td>
</tr>
<tr>
<td style="text-align:center">R</td>
<td style="text-align:center">46133</td>
</tr>
<tr>
<td style="text-align:center">G</td>
<td style="text-align:center">35899</td>
</tr>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:center">65531</td>
</tr>
<tr>
<td style="text-align:center">Ha</td>
<td style="text-align:center">38744</td>
</tr>
<tr>
<td style="text-align:center">OIII</td>
<td style="text-align:center">51000</td>
</tr>
<tr>
<td style="text-align:center">SII</td>
<td style="text-align:center">56805</td>
</tr>
</tbody>
</table>
</div>
<p>量測時間：21:00, 溫度：28.94度</p>
<p>此外，未來的曝光策略應該會固定，<strong>LRGB(Gain:110, Offset:50) &amp; HSO(Gain:200, Offset:50)</strong>。</p>
<p>這次觀測相當順利，沒有遇到任何問題。<br><img src="https://i.imgur.com/x8ygh2K.jpg" alt=""></p>
<p>清晨還出現一些怪雲(<del>差點毀了平場</del>)，頂樓還能同時看海跟日出=U=<br><img src="https://i.imgur.com/brYPPAT.jpg" alt=""></p>
<p><img src="https://i.imgur.com/GmaHIX7.jpg" alt=""></p>
<p><img src="https://i.imgur.com/tAmbQZr.jpg" alt=""></p>
<p><img src="https://i.imgur.com/7aiVzaR.jpg" alt=""></p>
<h2 id="觀測目標"><a href="#觀測目標" class="headerlink" title="觀測目標"></a>觀測目標</h2><p>本次目標為上弦月,M3,M16,及M101</p>
<ul>
<li>25cm F12 折射鏡</li>
<li>ASI 6200MM Pro @ 0°C</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目標</th>
<th style="text-align:center">濾鏡</th>
<th style="text-align:center">曝光時間 (s)</th>
<th style="text-align:center">張數</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">上弦月</td>
<td style="text-align:center">L,R,G,B,Ha,OIII,SII</td>
<td style="text-align:center">錄影</td>
<td style="text-align:center">100</td>
</tr>
<tr>
<td style="text-align:center">M3</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">180</td>
<td style="text-align:center">5,5,5,5</td>
</tr>
<tr>
<td style="text-align:center">M16</td>
<td style="text-align:center">Ha,OIII,SII</td>
<td style="text-align:center">300</td>
<td style="text-align:center">10,10,10</td>
</tr>
<tr>
<td style="text-align:center">M101</td>
<td style="text-align:center">L,R,G,B</td>
<td style="text-align:center">300</td>
<td style="text-align:center">3,3,3,3</td>
</tr>
</tbody>
</table>
</div>
<p>M101未來還需要補更多曝光，窄頻M16的效果很好。</p>
<h2 id="觀測成果"><a href="#觀測成果" class="headerlink" title="觀測成果"></a>觀測成果</h2><p><strong><em>Mineral Moon</em></strong><br><img src="https://i.imgur.com/d15wFs7.jpg" alt=""></p>
<p>待處理</p>
<h2 id="補充事項"><a href="#補充事項" class="headerlink" title="補充事項"></a>補充事項</h2><h3 id="平場建議拍攝順序-清晨"><a href="#平場建議拍攝順序-清晨" class="headerlink" title="平場建議拍攝順序(清晨)"></a>平場建議拍攝順序(清晨)</h3><p>這次透過曝光仔細檢查平場的拍攝順序。</p>
<p><strong>L&gt;B&gt;G&gt;R-&gt;OIII-&gt;SII-&gt;Ha</strong></p>
<p>R=172<br>G=132<br>B=57<br>Ha=1352<br>OIII=698<br>SII=1094</p>
<p><img src="https://i.imgur.com/bqGCYqM.jpg" alt=""></p>
<h2 id="待辦事項"><a href="#待辦事項" class="headerlink" title="待辦事項"></a>待辦事項</h2><ul>
<li>[ ] 為M101,M16取得更多曝光</li>
</ul>
]]></content>
      <categories>
        <category>astronomy</category>
      </categories>
      <tags>
        <tag>astrophotography</tag>
        <tag>observation</tag>
      </tags>
  </entry>
</search>
